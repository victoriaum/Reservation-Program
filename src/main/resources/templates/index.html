<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="~{layouts/layout-withMenu}">
<head>
  <link rel="stylesheet" th:href="@{css/index.css}" >
  <script th:src="@{js/index.js}"></script>
</head>

<div layout:fragment="content">
  <div id="container">
    <div class="center">
      <div class="menu row row-cols-4">
        <div th:if="${session.loginType}=='1'" class="indexMenu col" onclick="location.href='/report_t'">
          <img class="menuIcon" th:src="@{image/index/report.png}"/>
          <span class="menuName">Report</span>
        </div>
        <div th:if="${session.loginType}=='2'" class="indexMenu col" onclick="location.href='/report_s'">
          <img class="menuIcon" th:src="@{image/index/report.png}"/>
          <span class="menuName">Report</span>
        </div>
        <div class="indexMenu col" onclick="location.href='/schedule'">
          <img class="menuIcon" th:src="@{image/index/schedule.png}"/>
          <span class="menuName">Schedule</span>
        </div>
        <div class="indexMenu col" onclick="location.href='/notice'">
          <img class="menuIcon" th:src="@{image/index/notice.png}"/>
          <span class="menuName">Notice</span>
        </div>
        <div class="indexMenu col" onclick="location.href='/mypage'">
          <img class="menuIcon" th:src="@{image/index/mypage.png}"/>
          <span class="menuName">MyPage</span>
        </div>
      </div>


      <!-- 공지사항 부분 -->
      <div class="indexContents indexNotice1">
        <div>
          <span class="indexContentsTitle">최근 주요 공지사항</span>
          <span class="more">more</span>
        </div>
        <p class="indexContentsDetail">
          <span class="indexContentsDetailInfo1">외과</span>
          <span class="noticeSubject">외과 레포트 검사 없습니다.</span>
        </p>
      </div>

      <!-- 오늘의 일정부분 -->
      <div class="indexContents indexNotice2">
        <div>
          <span class="indexContentsTitle">오늘 레포트검사 일정</span>
          <span class="more">more</span>
        </div>

        <!-- 선생님 오늘 일정을 보여주는 부분 -->
        <div th:if="${session.loginType}=='1' and ${scheduleList!=null}">
          <th:block th:each="dto:${scheduleList}">
            <p class="indexContentsDetail" th:value="${dto.schedule_no}">
              <span class="indexContentsDetailInfo2" th:text="${dto.schedule_start}"></span>
              <span class="noticeSubject">
                검사를 요청한 인원:
                <span th:text="${#lists.size(#strings.arraySplit(dto.schedule_attender,','))}" class="import"></span>명
              </span>
            </p>
          </th:block>
        </div>
        <div th:if="${session.loginType}=='1' and ${scheduleList==null}">
          <p class="indexContentsDetail">
            <span class="noticeSubject">오늘 일정은 없습니다.</span>
          </p>
        </div>

        <!-- 학생 오늘 일정을 보여주는 부분 -->
        <div th:if="${session.loginType}=='2' and ${scheduleList!=null}">
          <th:block th:each="list:${scheduleList}">
            <th:block th:each="s:${#strings.arraySplit(list,',')}">
              <p class="indexContentsDetail" th:value="${s[0]}">
                <span class="indexContentsDetailInfo2" th:text="${s[1]}"></span>
                <span class="noticeSubject">
                  <span th:text="|${s[2]} ${s[3]} ${s[4]}|" class="import"></span>
                </span>
              </p>
            </th:block>
          </th:block>
        </div>
        <div th:if="${session.loginType}=='2' and ${scheduleList==null}">
          <p class="indexContentsDetail">
            <span class="noticeSubject">오늘 일정은 없습니다.</span>
          </p>
        </div>

      </div>
    </div>
  </div>
</div>

</html>